# mosquitto configuration

# ---------- Listeners ----------
listener 1883 0.0.0.0
protocol mqtt

listener 9001 0.0.0.0
protocol websockets

# ---------- Persistence ----------
persistence true
persistence_location /mosquitto/data/
autosave_interval 60

# ---------- Logging ----------
log_dest stdout
log_type error
log_type warning
log_type notice
log_type information
log_type all

# ---------- Security ----------
allow_anonymous false
password_file /mosquitto/config/mosquitto_passwd
acl_file /mosquitto/config/acl

# ---------- Limits ----------
max_packet_size 10485760         # 10 MB, adjust if needed

# ---------- Tuning ----------
set_tcp_nodelay true

pid_file /mosquitto/run/mosquitto.pid